{"version":3,"file":"remap.js","sourceRoot":"","sources":["../../../src/lib/sourcemaps/remap.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,mCAAmC;AACnC,mCAAmC;AACnC,uCAAyC;AAEzC;;;;;GAKG;AACH,wBAAqC,WAA8B;;QACjE,yBAAyB;QACzB,MAAM,SAAS,GAAG,MAAM,gBAAS,CAAC,WAAW,CAAC,CAAC;QAE/C,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,GAAG,CAC9B,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;YACzB,GAAG,CAAC,KAAK,CAAC,0BAA0B,UAAU,EAAE,CAAC,CAAC;YAClD,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAClC,CAAC,CAAC,CACH,CAAC;QAEF,6BAA6B;QAC7B,MAAM,IAAI,GAAG;YACX,MAAM,EAAE,KAAK;YACb,cAAc,EAAE,IAAI;SACrB,CAAC;QAEF,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;CAAA;AAlBD,wCAkBC","sourcesContent":["import * as sorcery from 'sorcery';\r\nimport * as log from '../util/log';\r\nimport { globFiles } from '../util/glob';\r\n\r\n/**\r\n * Re-maps the source `.map` file for the given `sourceFile` or `Glob Pattern`. This keeps source maps intact over\r\n * a series of transpilations!\r\n *\r\n * @param globPattern Source file or Glob pattern\r\n */\r\nexport async function remapSourceMap(globPattern: string | string[]): Promise<any> {\r\n  // read and create chains\r\n  const filesPath = await globFiles(globPattern);\r\n\r\n  const chains = await Promise.all(\r\n    filesPath.map(sourceFile => {\r\n      log.debug(`re-mapping sources for ${sourceFile}`);\r\n      return sorcery.load(sourceFile);\r\n    })\r\n  );\r\n\r\n  // write re-mapped sourcemaps\r\n  const opts = {\r\n    inline: false,\r\n    includeContent: true\r\n  };\r\n\r\n  return Promise.all(chains.map(x => x.write(opts)));\r\n}\r\n"]}