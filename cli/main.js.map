{"version":3,"file":"main.js","sourceRoot":"","sources":["../../src/cli/main.ts"],"names":[],"mappings":";;;AAEA,qCAAqC;AACrC,6BAA6B;AAC7B,kDAAkD;AAClD,yCAAyC;AACzC,8CAAwD;AAExD,MAAM,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,iBAAiB,CAAC,CAAC;AAE5E,0BAA0B,MAAc;IACtC,MAAM,CAAC,MAAM,IAAI,oBAAoB,CAAC;AACxC,CAAC;AAED,OAAO;KACJ,IAAI,CAAC,YAAY,CAAC;KAClB,MAAM,CAAC,eAAe,EAAE,qBAAqB,CAAC;KAC9C,MAAM,CACL,sBAAsB,EACtB,uDAAuD,EACvD,gBAAgB,EAChB,oBAAoB,CACrB,CAAC;AAEJ,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC1C,MAAM,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC;AAC7C,cAAc,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;AAEjC,OAAO,CAAC,EAAE,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAChC,oBAAO,CAAC,GAAG,CAAC,CAAC;IACb,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC,CAAC,CAAC;AAEH,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAE5B,oBAAO,CAAC,kBAAK,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC","sourcesContent":["#!/usr/bin/env node\r\n\r\nimport * as program from 'commander';\r\nimport * as path from 'path';\r\nimport * as updateNotifier from 'update-notifier';\r\nimport * as readPkgUp from 'read-pkg-up';\r\nimport { execute, build, version } from '../public_api';\r\n\r\nconst DEFAULT_PROJECT_PATH = path.resolve(process.cwd(), 'ng-package.json');\r\n\r\nfunction parseProjectPath(parsed: string): string {\r\n  return parsed || DEFAULT_PROJECT_PATH;\r\n}\r\n\r\nprogram\r\n  .name('ng-packagr')\r\n  .option('-V, --version', 'Prints version info')\r\n  .option(\r\n    '-p, --project [path]',\r\n    \"Path to the 'ng-package.json' or 'package.json' file.\",\r\n    parseProjectPath,\r\n    DEFAULT_PROJECT_PATH\r\n  );\r\n\r\nconst dir = path.dirname(module.filename);\r\nconst pkg = readPkgUp.sync({ cwd: dir }).pkg;\r\nupdateNotifier({ pkg }).notify();\r\n\r\nprogram.on('option:version', () => {\r\n  version(pkg);\r\n  process.exit(0);\r\n});\r\n\r\nprogram.parse(process.argv);\r\n\r\nexecute(build, { project: program.opts().project }).catch(err => process.exit(111));\r\n"]}